<!DOCTYPE html>
<html>

<head lang="en">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta lang="en">

    <title>Notizverwaltung</title>

    <link href='http://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900,900italic'
          rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="../../resources/font-awesome-4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../../resources/css/styles.css">
    <link rel="stylesheet" id="theme" href="../../resources/css/default-theme.css">

    <!--
    <script src="http://cdnjs.cloudflare.com/ajax/libs/handlebars.js/1.0.0/handlebars.min.js"></script>
    -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/3.0.3/handlebars.js"></script>
    <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>


    <!-- define the template at the beginning-->
    <script id="note-list-item-template" type="text/x-handlebars-template">
        {{#each this}}

        <li id={{this.uuid}} class="note-list-item">
            <table class="note-table">
                <tr>
                    <td><h3 class="note-due-by">{{#convertDate}}{{{dueBy}}}{{/convertDate}}</h3></td>
                    <td>
                        <div class="note-header">
                            <h3 class="note-title">{{title}}</h3>
                            <label class="note-importance">{{#convertImportance}}{{{importance}}}{{/convertImportance}}</label>
                            <ul class="toolbar note-crud">
                                <li>
                                    <button class="btn"><i class="fa fa-pencil"></i>&nbsp;Edit</button>
                                </li>
                                <li>
                                    <button id="delete_note" class="btn danger"><i class="fa fa-trash-o"></i>&nbsp;Delete
                                    </button>
                                </li>
                            </ul>
                        </div>
                    </td>
                </tr>
                <tr>{{#if isDone}}
                    <td><label class="checkbox"><input type="checkbox" checked/>Done</label></td>
                    {{else}}
                    <td><label class="checkbox"><input type="checkbox"/>Done</label></td>
                    {{/if}}
                    <td><textarea readonly class="note-description">{{description}}</textarea></td>
                </tr>
            </table>
        </li>

        {{/each}}
    </script>

    <!-- load this script here since it is used as configuration only stuff (i.e. local storage handling, it does not
    do anything with DOM trees). It mus also be loaded as the first scripts
    since other scripts might make use of the functions defined in those -->
    <script src="../../resources/js/constants.js"></script>
    <script src="../../resources/js/application.js"></script>
    <script src="overview.js"></script>
</head>

<body>

<header id="app-header">
    <h1>Notes Application</h1>
    <label id="theme-switch-label">
        <select id="theme-switch-cb">
            <option value="theme_def">Default
            <option value="theme_bw">Black & White
        </select>
    </label>
</header>

<div id="wrapper">
    <div id="toolbar-area">
        <ul id="filters" class="toolbar">
            <li><i class="icon-only fa fa-sort"></i></li>
            <li>
                <button id="by_due_date" class="btn"><i class="fa fa-clock-o"></i>&nbsp;By Due Date</button>
            </li>
            <li>
                <button id="by_creation_date" class="btn"><i class="fa fa-calendar"></i>&nbsp;By Creation Date</button>
            </li>
            <li>
                <button id="by_importance" class="btn"><i class="fa fa-star"></i>&nbsp;By Importance</button>
            </li>
        </ul>

        <div id="other-actions">
            <button id="show_done" class="btn"><i class="fa fa-check-square-o "></i>&nbsp;Show Done</button>
            <button id="add_new_note" class="btn default"><i class="fa fa-plus"></i>&nbsp;Add Note</button>
        </div>
    </div>

    <!--Notes in here will be populated by js/json-->
    <section id="note-container">
        <ul id="notes">


            <!--<li id="3bce4931-6c75-41ab-afe0-2ec108a30860" class="note-list-item">-->
            <!--<table class="note-table">-->
            <!--<tr>-->
            <!--<td><h3 class="note-due-by">Due on Wednesday</h3></td>-->
            <!--<td>-->
            <!--<div class="note-header">-->
            <!--<h3 class="note-title">CAS FEE Selbststudium / Projekt Aufgabe erledigen</h3>-->
            <!--<label class="note-importance">&#xf005;&nbsp;&#xf005;&nbsp;&#xf005;</label>-->
            <!--<ul class="toolbar note-crud">-->
            <!--<li>-->
            <!--<button class="btn"><i class="fa fa-pencil"></i>&nbsp;Edit</button>-->
            <!--</li>-->
            <!--<li>-->
            <!--<button id="delete_note" class="btn danger"><i class="fa fa-trash-o"></i>&nbsp;Delete</button>-->
            <!--</li>-->
            <!--</ul>-->
            <!--</div>-->
            <!--</td>-->
            <!--</tr>-->
            <!--<tr>-->
            <!--<td><label class="checkbox"><input type="checkbox" checked/> Finished (today)</label></td>-->
            <!--<td><textarea readonly class="note-description">HTML f√ºr die Note App erstellen</textarea></td>-->
            <!--</tr>-->
            <!--</table>-->
            <!--</li>-->
        </ul>
    </section>
</div>

<footer id="app-footer">
    <label id="footer-label">Group No.11</label>
</footer>

<!--load script here...-->
<!--<script src="resources/js/overview.js"></script>-->
<script src="../../resources/js/handlers.js"></script>

<script>
    // handlebar helper to convert the "number" for the importance into a string. that is done wit ha js function.
    Handlebars.registerHelper("convertImportance", function (options) {
        return new Handlebars.SafeString(convertImportanceToString(options.fn(this)));
    });

    Handlebars.registerHelper("convertDate", function (options) {
        return new Handlebars.SafeString(convertTimeToDateString(options.fn(this)));
    });

    $(function () {
        renderNotes();

        // initialize handlers...
        $("#wrapper").on("click", bubbledEventHandler);
        $("#theme-switch-cb").on("change", bubbledEventHandler);
    });
</script>

</body>
</html>